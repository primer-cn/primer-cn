<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="">

    <title>
      代码指南 &middot; Primer
    </title>

    <link rel="stylesheet" href="/docs.css">

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-precomposed.png">
    <link rel="icon" href="/favicon.ico">
  </head>
  <body>

    <header class="masthead">
      <div class="container">
        <a href="/" class="masthead-logo">
          <span class="mega-octicon octicon-package"></span>
          Primer
        </a>

        <nav class="masthead-nav">
          <a class="active" href="/scaffolding">文档</a>
          <a  href="/about">关于</a>
          <a href="https://github.com/primer-cn/primer-cn" target="_blank">GitHub</a>
          <a href="https://github.com/primer-cn/primer-cn/blob/master/README.md#install" target="_blank">安装</a>
        </nav>
      </div>
    </header>

    

    <div class="container">
      <div class="columns docs-layout">
  <div class="one-fourth column">
    
      <nav class="menu docs-menu">
  <a class="menu-item " href="/scaffolding/">
    脚手架
  </a>
  <a class="menu-item " href="/layout/">
    布局
  </a>
  <a class="menu-item " href="/type/">
    排版
  </a>
  <a class="menu-item " href="/buttons/">
    按钮
  </a>
  <a class="menu-item " href="/forms/">
    表单
  </a>
  <a class="menu-item " href="/nav/">
    导航
  </a>
  <a class="menu-item " href="/alerts/">
    通知
  </a>
  <a class="menu-item " href="/blankslate/">
    白板
  </a>
  <a class="menu-item " href="/avatars/">
    头像
  </a>
  <a class="menu-item " href="/states/">
    状态
  </a>
  <a class="menu-item " href="/tooltips/">
    工具提示
  </a>
  <a class="menu-item " href="/utilities/">
    实用工具
  </a>
</nav>

<nav class="menu docs-menu">
  <a class="menu-item selected" href="/guidelines/">
    代码指南
  </a>
  <a class="menu-item " href="/colors/">
    颜色
  </a>
  <a class="menu-item " href="/markdown/">
    标记
  </a>
</nav>

    
  </div>
  <div class="three-fourths column markdown-body">
    <h1 class="page-title">
      代码指南
    </h1>
    <div class="markdown-body">
      <p>最佳实践和指南，为了写出亲切格式、语句等的HTML和CSS。</p>

<h2 id="section">目录</h2>

<ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">目录</a></li>
  <li><a href="#html" id="markdown-toc-html">HTML</a>    <ul>
      <li><a href="#section-1" id="markdown-toc-section-1">基本格式</a></li>
      <li><a href="#section-2" id="markdown-toc-section-2">布尔属性</a></li>
      <li><a href="#section-3" id="markdown-toc-section-3">精简标签</a></li>
      <li><a href="#section-4" id="markdown-toc-section-4">表单</a></li>
      <li><a href="#section-5" id="markdown-toc-section-5">表格</a></li>
    </ul>
  </li>
  <li><a href="#scss" id="markdown-toc-scss">SCSS</a>    <ul>
      <li><a href="#section-6" id="markdown-toc-section-6">空格</a></li>
      <li><a href="#section-7" id="markdown-toc-section-7">格式化</a></li>
      <li><a href="#misc" id="markdown-toc-misc">Misc</a></li>
      <li><a href="#section-8" id="markdown-toc-section-8">例子</a></li>
    </ul>
  </li>
  <li><a href="#file-organization" id="markdown-toc-file-organization">File organization</a>    <ul>
      <li><a href="#bundles" id="markdown-toc-bundles">Bundles</a></li>
      <li><a href="#including-scss-files" id="markdown-toc-including-scss-files">Including (S)CSS files</a></li>
    </ul>
  </li>
  <li><a href="#pixels-vs-ems" id="markdown-toc-pixels-vs-ems">Pixels vs. ems</a></li>
  <li><a href="#class-naming-conventions" id="markdown-toc-class-naming-conventions">Class naming conventions</a></li>
  <li><a href="#specificity-classes-vs-ids" id="markdown-toc-specificity-classes-vs-ids">Specificity (classes vs. ids)</a>    <ul>
      <li><a href="#css-specificity-guidelines" id="markdown-toc-css-specificity-guidelines">CSS Specificity guidelines</a></li>
    </ul>
  </li>
</ul>

<h2 id="html">HTML</h2>

<h3 id="section-1">基本格式</h3>

<ul>
  <li>使用软件标签的两个空格作为缩进。空格是保证代码在任何人的环境中都显示一致的唯一方式。</li>
  <li>文本的段落应该使用使用<code class="highlighter-rouge">&lt;p&gt;</code>标签。永远不要连续使用多个<code class="highlighter-rouge">&lt;br&gt;</code>标签。</li>
  <li>表单中的项目列表总是应该使用<code class="highlighter-rouge">&lt;ul&gt;</code>,<code class="highlighter-rouge">&lt;ol&gt;</code>,或者<code class="highlighter-rouge">&lt;dl&gt;</code>。永远不要使用一堆的<code class="highlighter-rouge">&lt;div&gt;</code>或者<code class="highlighter-rouge">&lt;p&gt;</code>。</li>
  <li>每个表单中输入框的附加文本都应该使用<code class="highlighter-rouge">&lt;label&gt;</code>标签。<strong>特别是单选框和多选框元素。</strong></li>
  <li>即使属性的引号是可选的，为了可读性总是在属性的两边加上引号。</li>
  <li>避免在注释中书写关闭标签，如<code class="highlighter-rouge">&lt;!-- /.element --&gt;</code>。这只会增加页面的加载时间。另外，大多数编辑器有缩进标线和开关标签的高亮显示。</li>
  <li>避免在字闭合元素中中添加斜杠。如<code class="highlighter-rouge">&lt;br&gt;</code>,<code class="highlighter-rouge">&lt;hr&gt;</code>,<code class="highlighter-rouge">&lt;img&gt;</code>和<code class="highlighter-rouge">&lt;input&gt;</code>。</li>
  <li>不要手动设置标签下标<code class="highlighter-rouge">tabindex</code>——应该依赖于浏览器的顺序设置。</li>
</ul>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"line-note"</span> <span class="na">data-attribute=</span><span class="s">"106"</span><span class="nt">&gt;</span>
  This is my paragraph of special text.
<span class="nt">&lt;/p&gt;</span></code></pre></figure>

<h3 id="section-2">布尔属性</h3>

<p>许多属性不需要设置一个值，比如<code class="highlighter-rouge">disabled</code>或者<code class="highlighter-rouge">checked</code>，随意不要忘记他们(布尔值)。</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">disabled</span><span class="nt">&gt;</span>

<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">value=</span><span class="s">"1"</span> <span class="na">checked</span><span class="nt">&gt;</span>

<span class="nt">&lt;select&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"1"</span> <span class="na">selected</span><span class="nt">&gt;</span>1<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span></code></pre></figure>

<p>更多的信息，<a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/common-microsyntaxes.html#boolean-attributes">阅读WhatWG section</a>。</p>

<h3 id="section-3">精简标签</h3>

<p>只要可能，避免在HTML中使用过多的父元素。很多时候这要求反复检查和重构，但是产生更少的HTML。例如：</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- Not so great --&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"avatar"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"..."</span><span class="nt">&gt;</span>
<span class="nt">&lt;/span&gt;</span>

<span class="c">&lt;!-- Better --&gt;</span>
<span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"avatar"</span> <span class="na">src=</span><span class="s">"..."</span><span class="nt">&gt;</span></code></pre></figure>

<h3 id="section-4">表单</h3>

<ul>
  <li>倾向于单选框或者复选框列表，而不是选择菜单。</li>
  <li>把单选框和多选输入框以及他们的文本包装在<code class="highlighter-rouge">&lt;label&gt;</code>中。这里不需要<code class="highlighter-rouge">for</code>属性——包装自动关联两个标签。</li>
  <li>表单按钮应该总是包含一个明显的类型<code class="highlighter-rouge">type</code>。为主要的按钮使用<code class="highlighter-rouge">type="submit"</code>按钮和普通的按钮使用<code class="highlighter-rouge">type="button"</code>。</li>
  <li>主要的表单按钮必须第一次展示在DOM中，特别是那些有多个确定按钮的表单。每个按钮的视觉排序应该使用<code class="highlighter-rouge">float:right;</code>。</li>
</ul>

<h3 id="section-5">表格</h3>

<p>在适当的地方使用<code class="highlighter-rouge">&lt;thead&gt;</code>,<code class="highlighter-rouge">&lt;tfoot&gt;</code>,<code class="highlighter-rouge">&lt;tbody&gt;</code>和··==<code class="highlighter-rouge">&lt;th&gt;</code>标签（和<code class="highlighter-rouge">scope</code>属性）。
（注意：为了速度应该把<code class="highlighter-rouge">&lt;tfoot&gt;</code>放在<code class="highlighter-rouge">&lt;tbody&gt;</code>标签之前。你希望浏览器在在家一个完整的表格数据之前加载表格底部。）</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;table</span> <span class="na">summary=</span><span class="s">"This is a chart of invoices for 2011."</span><span class="nt">&gt;</span>
  <span class="nt">&lt;thead&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;th</span> <span class="na">scope=</span><span class="s">"col"</span><span class="nt">&gt;</span>Table header 1<span class="nt">&lt;/th&gt;</span>
      <span class="nt">&lt;th</span> <span class="na">scope=</span><span class="s">"col"</span><span class="nt">&gt;</span>Table header 2<span class="nt">&lt;/th&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;/thead&gt;</span>
  <span class="nt">&lt;tfoot&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;td&gt;</span>Table footer 1<span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;td&gt;</span>Table footer 2<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;/tfoot&gt;</span>
  <span class="nt">&lt;tbody&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;td&gt;</span>Table data 1<span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;td&gt;</span>Table data 2<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;/tbody&gt;</span>
<span class="nt">&lt;/table&gt;</span></code></pre></figure>

<h2 id="scss">SCSS</h2>

<h3 id="section-6">空格</h3>

<ul>
  <li>使用软件标签的两个空格作为缩进。空格是保证代码在任何人的环境中都显示一致的唯一方式。</li>
  <li>属性声明时在冒号<code class="highlighter-rouge">:</code>后面加上空格符。</li>
  <li>规则声明时在冒号<code class="highlighter-rouge">:</code>后面加上空格符。</li>
  <li>当分类选择器时，保持个体选择器在同一行上。</li>
  <li>声明代码块时在新的一行上加上关闭大口号。</li>
  <li>为了更精确的错误报告，每一个声明应该出现在它自己的行内。</li>
</ul>

<h3 id="section-7">格式化</h3>

<ul>
  <li>Use hex color codes <code class="highlighter-rouge">#000</code> unless using <code class="highlighter-rouge">rgba()</code> in raw CSS (SCSS’ <code class="highlighter-rouge">rgba()</code> function is overloaded to accept hex colors as a param, e.g., <code class="highlighter-rouge">rgba(#000, .5)</code>).</li>
  <li>Use <code class="highlighter-rouge">//</code> for comment blocks (instead of <code class="highlighter-rouge">/* */</code>).</li>
  <li>Avoid specifying units for zero values, e.g., <code class="highlighter-rouge">margin: 0;</code> instead of <code class="highlighter-rouge">margin: 0px;</code>.</li>
  <li>Strive to limit use of shorthand declarations to instances where you must explicitly set all the available values.</li>
</ul>

<h3 id="misc">Misc</h3>

<p>As a rule of thumb, avoid unnecessary nesting in SCSS. At most, aim for three levels. If you cannot help it, step back and rethink your overall strategy (either the specificity needed, or the layout of the nesting).</p>

<h3 id="section-8">例子</h3>

<p>Here are some good examples that apply the above guidelines:</p>

<figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="c1">// Example of good basic formatting practices
</span><span class="nc">.styleguide-format</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="mh">#000</span><span class="p">;</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="nf">rgba</span><span class="p">(</span><span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="mi">.5</span><span class="p">);</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="mh">#0f0</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Example of individual selectors getting their own lines (for error reporting)
</span><span class="nc">.multiple</span><span class="o">,</span>
<span class="nc">.classes</span><span class="o">,</span>
<span class="nc">.get-new-lines</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Avoid unnecessary shorthand declarations
</span><span class="nc">.not-so-good</span> <span class="p">{</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">20px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.good</span> <span class="p">{</span>
  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<h2 id="file-organization">File organization</h2>

<p>In general, a flat directory of files works best, but at GitHub we break things down by bundles (separate compiled CSS files) and sections (directories of related content).</p>

<h3 id="bundles">Bundles</h3>

<p>GitHub.com uses a handful of bundles. Here’s a simplified representation of our two desktop bundles (split to support IE9’s maximum selector limit per CSS file) and a dedicated mobile bundle for our separate mobile views.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">stylesheets
├── github
│   ├── base.scss
│   ├── layout.scss
│   └── buttons.scss
├── github2
│   ├── about.scss
│   └── blog.scss
└── mobile
    ├── base.scss
    └── files.scss</code></pre></figure>

<h3 id="including-scss-files">Including (S)CSS files</h3>

<p>Previously we used <a href="https://github.com/sstephenson/sprockets">Sprockets</a> to <strong>require</strong> files in Primer and at GitHub. Nowadays, we use explicit lists of <strong>imports</strong> to control the cascade, specificity, and more.</p>

<figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="c1">// Imports
</span><span class="k">@import</span> <span class="s2">"primer"</span><span class="p">;</span>
<span class="k">@import</span> <span class="s2">"component"</span><span class="p">;</span>
<span class="k">@import</span> <span class="s2">"another_component"</span><span class="p">;</span>

<span class="c1">// Rules
</span><span class="nc">.rule</span> <span class="p">{</span> <span class="nc">...</span> <span class="p">}</span></code></pre></figure>

<p>This is also how Primer’s styles are to be included, should you need them.</p>

<h2 id="pixels-vs-ems">Pixels vs. ems</h2>

<p>Use <code class="highlighter-rouge">px</code> for <code class="highlighter-rouge">font-size</code>, because it offers absolute control over text. Additionally, unit-less <code class="highlighter-rouge">line-height</code> is preferred because it does not inherit a percentage value of its parent element, but instead is based on a multiplier of the <code class="highlighter-rouge">font-size</code>.</p>

<h2 id="class-naming-conventions">Class naming conventions</h2>

<p>Never reference <code class="highlighter-rouge">js-</code> prefixed class names from CSS files. <code class="highlighter-rouge">js-</code> are used exclusively from JS files.</p>

<p>Use the <code class="highlighter-rouge">is-</code> prefix for state rules that are shared between CSS and JS.</p>

<h2 id="specificity-classes-vs-ids">Specificity (classes vs. ids)</h2>

<p>Elements that occur <strong>exactly once</strong> inside a page should use IDs, otherwise, use classes. When in doubt, use a class name.</p>

<ul>
  <li><strong>Good</strong> candidates for ids: header, footer, modal popups.</li>
  <li><strong>Bad</strong> candidates for ids: navigation, item listings, item view pages (ex: issue view).</li>
</ul>

<p>When styling a component, start with an element + class namespace (prefer class names over ids),  prefer direct descendant selectors by default, and use as little specificity as possible. Here is a good example:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"category-list"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"item"</span><span class="nt">&gt;</span>Category 1<span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"item"</span><span class="nt">&gt;</span>Category 2<span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"item"</span><span class="nt">&gt;</span>Category 3<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="nc">.category-list</span> <span class="p">{</span> <span class="c1">// element + class namespace
</span>
  <span class="c1">// Direct descendant selector &gt; for list items
</span>  <span class="o">&gt;</span> <span class="nt">li</span> <span class="p">{</span>
    <span class="nl">list-style-type</span><span class="p">:</span> <span class="nb">disc</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Minimal specificity for all links
</span>  <span class="nt">a</span> <span class="p">{</span>
    <span class="nl">color</span><span class="p">:</span> <span class="mh">#f00</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h3 id="css-specificity-guidelines">CSS Specificity guidelines</h3>

<ul>
  <li>If you must use an id selector (<code class="highlighter-rouge">#selector</code>) make sure that you have no more than <em>one</em> in your rule declaration. A rule like <code class="highlighter-rouge">#header .search #quicksearch { ... }</code> is considered harmful.</li>
  <li>When modifying an existing element for a specific use, try to use specific class names. Instead of <code class="highlighter-rouge">.listings-layout.bigger</code> use rules like <code class="highlighter-rouge">.listings-layout.listings-bigger</code>. Think about <code class="highlighter-rouge">ack/grep</code>ing your code in the future.</li>
  <li>The class names <code class="highlighter-rouge">disabled</code>, <code class="highlighter-rouge">mousedown</code>, <code class="highlighter-rouge">danger</code>, <code class="highlighter-rouge">hover</code>, <code class="highlighter-rouge">selected</code>, and <code class="highlighter-rouge">active</code> should <em>always</em> be namespaced by a class (<code class="highlighter-rouge">button.selected</code> is a good example).</li>
</ul>

    </div>
  </div>
</div>


      <footer class="footer">
        版权 GitHub 2016.<br>
        由GitHub上的CSS团队开发和维护。 <strong>当前版本 v2.7.0。</strong>
		<a href="http://www.primercss.io" target="_blank">官方网址</a>
		<a href="https://github.com/primer/primer" target="_blank">官方GitHub</a>
      </footer>
    </div>

    <script src="/js/anchor.min.js"></script>
    <script>
      var selector = '.markdown-body h2, .markdown-body h3';
      anchors.options = {
        placement: 'left',
        class: 'anchor-link'
      };
      anchors.add(selector);
    </script>
  </body>
</html>
