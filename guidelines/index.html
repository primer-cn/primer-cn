<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="author" content="">

    <title>
      代码指南 &middot; Primer
    </title>

    <link rel="stylesheet" href="/docs.css">

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" href="/img/apple-touch-icon-precomposed.png">
    <link rel="icon" href="/favicon.ico">
  </head>
  <body>

    <header class="masthead">
      <div class="container">
        <a href="/" class="masthead-logo">
          <span class="mega-octicon octicon-package"></span>
          Primer
        </a>

        <nav class="masthead-nav">
          <a class="active" href="/scaffolding">文档</a>
          <a  href="/about">关于</a>
          <a href="https://github.com/primer-cn/primer-cn" target="_blank">GitHub</a>
          <a href="https://github.com/primer-cn/primer-cn/blob/master/README.md#install" target="_blank">安装</a>
        </nav>
      </div>
    </header>

    

    <div class="container">
      <div class="columns docs-layout">
  <div class="one-fourth column">
    
      <nav class="menu docs-menu">
  <a class="menu-item " href="/scaffolding/">
    脚手架
  </a>
  <a class="menu-item " href="/layout/">
    布局
  </a>
  <a class="menu-item " href="/type/">
    排版
  </a>
  <a class="menu-item " href="/buttons/">
    按钮
  </a>
  <a class="menu-item " href="/forms/">
    表单
  </a>
  <a class="menu-item " href="/nav/">
    导航
  </a>
  <a class="menu-item " href="/alerts/">
    通知
  </a>
  <a class="menu-item " href="/blankslate/">
    白板
  </a>
  <a class="menu-item " href="/avatars/">
    头像
  </a>
  <a class="menu-item " href="/states/">
    状态
  </a>
  <a class="menu-item " href="/tooltips/">
    工具提示
  </a>
  <a class="menu-item " href="/utilities/">
    实用工具
  </a>
</nav>

<nav class="menu docs-menu">
  <a class="menu-item selected" href="/guidelines/">
    代码指南
  </a>
  <a class="menu-item " href="/colors/">
    颜色
  </a>
  <a class="menu-item " href="/markdown/">
    标记
  </a>
</nav>

    
  </div>
  <div class="three-fourths column markdown-body">
    <h1 class="page-title">
      代码指南
    </h1>
    <div class="markdown-body">
      <p>最佳实践和指南，为了写出亲切格式、语句等的HTML和CSS。</p>

<h2 id="section">目录</h2>

<ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">目录</a></li>
  <li><a href="#html" id="markdown-toc-html">HTML</a>    <ul>
      <li><a href="#section-1" id="markdown-toc-section-1">基本格式</a></li>
      <li><a href="#section-2" id="markdown-toc-section-2">布尔属性</a></li>
      <li><a href="#section-3" id="markdown-toc-section-3">精简标签</a></li>
      <li><a href="#section-4" id="markdown-toc-section-4">表单</a></li>
      <li><a href="#section-5" id="markdown-toc-section-5">表格</a></li>
    </ul>
  </li>
  <li><a href="#scss" id="markdown-toc-scss">SCSS</a>    <ul>
      <li><a href="#section-6" id="markdown-toc-section-6">空格</a></li>
      <li><a href="#section-7" id="markdown-toc-section-7">格式化</a></li>
      <li><a href="#section-8" id="markdown-toc-section-8">混合</a></li>
      <li><a href="#section-9" id="markdown-toc-section-9">例子</a></li>
    </ul>
  </li>
  <li><a href="#section-10" id="markdown-toc-section-10">文件结构</a>    <ul>
      <li><a href="#bundles" id="markdown-toc-bundles">Bundles</a></li>
      <li><a href="#scss-1" id="markdown-toc-scss-1">包含(S)CSS文件</a></li>
    </ul>
  </li>
  <li><a href="#vs-" id="markdown-toc-vs-">像素 vs. 字体尺寸</a></li>
  <li><a href="#section-11" id="markdown-toc-section-11">类命名约定</a></li>
  <li><a href="#classes-vs-ids" id="markdown-toc-classes-vs-ids">特性 (classes vs. ids)</a>    <ul>
      <li><a href="#css" id="markdown-toc-css">CSS特性规范</a></li>
    </ul>
  </li>
</ul>

<h2 id="html">HTML</h2>

<h3 id="section-1">基本格式</h3>

<ul>
  <li>使用软件标签的两个空格作为缩进。空格是保证代码在任何人的环境中都显示一致的唯一方式。</li>
  <li>文本的段落应该使用使用<code class="highlighter-rouge">&lt;p&gt;</code>标签。永远不要连续使用多个<code class="highlighter-rouge">&lt;br&gt;</code>标签。</li>
  <li>表单中的项目列表总是应该使用<code class="highlighter-rouge">&lt;ul&gt;</code>,<code class="highlighter-rouge">&lt;ol&gt;</code>,或者<code class="highlighter-rouge">&lt;dl&gt;</code>。永远不要使用一堆的<code class="highlighter-rouge">&lt;div&gt;</code>或者<code class="highlighter-rouge">&lt;p&gt;</code>。</li>
  <li>每个表单中输入框的附加文本都应该使用<code class="highlighter-rouge">&lt;label&gt;</code>标签。<strong>特别是单选框和多选框元素。</strong></li>
  <li>即使属性的引号是可选的，为了可读性总是在属性的两边加上引号。</li>
  <li>避免在注释中书写关闭标签，如<code class="highlighter-rouge">&lt;!-- /.element --&gt;</code>。这只会增加页面的加载时间。另外，大多数编辑器有缩进标线和开关标签的高亮显示。</li>
  <li>避免在字闭合元素中中添加斜杠。如<code class="highlighter-rouge">&lt;br&gt;</code>,<code class="highlighter-rouge">&lt;hr&gt;</code>,<code class="highlighter-rouge">&lt;img&gt;</code>和<code class="highlighter-rouge">&lt;input&gt;</code>。</li>
  <li>不要手动设置标签下标<code class="highlighter-rouge">tabindex</code>——应该依赖于浏览器的顺序设置。</li>
</ul>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"line-note"</span> <span class="na">data-attribute=</span><span class="s">"106"</span><span class="nt">&gt;</span>
  This is my paragraph of special text.
<span class="nt">&lt;/p&gt;</span></code></pre></figure>

<h3 id="section-2">布尔属性</h3>

<p>许多属性不需要设置一个值，比如<code class="highlighter-rouge">disabled</code>或者<code class="highlighter-rouge">checked</code>，随意不要忘记他们(布尔值)。</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">disabled</span><span class="nt">&gt;</span>

<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"checkbox"</span> <span class="na">value=</span><span class="s">"1"</span> <span class="na">checked</span><span class="nt">&gt;</span>

<span class="nt">&lt;select&gt;</span>
  <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"1"</span> <span class="na">selected</span><span class="nt">&gt;</span>1<span class="nt">&lt;/option&gt;</span>
<span class="nt">&lt;/select&gt;</span></code></pre></figure>

<p>更多的信息，<a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/common-microsyntaxes.html#boolean-attributes">阅读WhatWG section</a>。</p>

<h3 id="section-3">精简标签</h3>

<p>只要可能，避免在HTML中使用过多的父元素。很多时候这要求反复检查和重构，但是产生更少的HTML。例如：</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="c">&lt;!-- Not so great --&gt;</span>
<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"avatar"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"..."</span><span class="nt">&gt;</span>
<span class="nt">&lt;/span&gt;</span>

<span class="c">&lt;!-- Better --&gt;</span>
<span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"avatar"</span> <span class="na">src=</span><span class="s">"..."</span><span class="nt">&gt;</span></code></pre></figure>

<h3 id="section-4">表单</h3>

<ul>
  <li>倾向于单选框或者复选框列表，而不是选择菜单。</li>
  <li>把单选框和多选输入框以及他们的文本包装在<code class="highlighter-rouge">&lt;label&gt;</code>中。这里不需要<code class="highlighter-rouge">for</code>属性——包装自动关联两个标签。</li>
  <li>表单按钮应该总是包含一个明显的类型<code class="highlighter-rouge">type</code>。为主要的按钮使用<code class="highlighter-rouge">type="submit"</code>按钮和普通的按钮使用<code class="highlighter-rouge">type="button"</code>。</li>
  <li>主要的表单按钮必须第一次展示在DOM中，特别是那些有多个确定按钮的表单。每个按钮的视觉排序应该使用<code class="highlighter-rouge">float:right;</code>。</li>
</ul>

<h3 id="section-5">表格</h3>

<p>在适当的地方使用<code class="highlighter-rouge">&lt;thead&gt;</code>,<code class="highlighter-rouge">&lt;tfoot&gt;</code>,<code class="highlighter-rouge">&lt;tbody&gt;</code>和··==<code class="highlighter-rouge">&lt;th&gt;</code>标签（和<code class="highlighter-rouge">scope</code>属性）。
（注意：为了速度应该把<code class="highlighter-rouge">&lt;tfoot&gt;</code>放在<code class="highlighter-rouge">&lt;tbody&gt;</code>标签之前。你希望浏览器在在家一个完整的表格数据之前加载表格底部。）</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;table</span> <span class="na">summary=</span><span class="s">"This is a chart of invoices for 2011."</span><span class="nt">&gt;</span>
  <span class="nt">&lt;thead&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;th</span> <span class="na">scope=</span><span class="s">"col"</span><span class="nt">&gt;</span>Table header 1<span class="nt">&lt;/th&gt;</span>
      <span class="nt">&lt;th</span> <span class="na">scope=</span><span class="s">"col"</span><span class="nt">&gt;</span>Table header 2<span class="nt">&lt;/th&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;/thead&gt;</span>
  <span class="nt">&lt;tfoot&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;td&gt;</span>Table footer 1<span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;td&gt;</span>Table footer 2<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;/tfoot&gt;</span>
  <span class="nt">&lt;tbody&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;td&gt;</span>Table data 1<span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;td&gt;</span>Table data 2<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;/tbody&gt;</span>
<span class="nt">&lt;/table&gt;</span></code></pre></figure>

<h2 id="scss">SCSS</h2>

<h3 id="section-6">空格</h3>

<ul>
  <li>使用软件标签的两个空格作为缩进。空格是保证代码在任何人的环境中都显示一致的唯一方式。</li>
  <li>属性声明时在冒号<code class="highlighter-rouge">:</code>后面加上空格符。</li>
  <li>规则声明时在冒号<code class="highlighter-rouge">:</code>后面加上空格符。</li>
  <li>当分类选择器时，保持个体选择器在同一行上。</li>
  <li>声明代码块时在新的一行上加上关闭大口号。</li>
  <li>为了更精确的错误报告，每一个声明应该出现在它自己的行内。</li>
</ul>

<h3 id="section-7">格式化</h3>

<ul>
  <li>使用十六进制颜色代码<code class="highlighter-rouge">#000</code>，除非在原始的CSS中使用<code class="highlighter-rouge">rgba()</code>(SCSS的<code class="highlighter-rouge">rgba()</code>被重载为接收十六进制颜色作为一个参数的函数，例如<code class="highlighter-rouge">rgba(#000, .5)</code>)。</li>
  <li>在注视块使用<code class="highlighter-rouge">//</code>代替使用<code class="highlighter-rouge">/* */</code>。</li>
  <li>避免0值的单位指定，例如，使用<code class="highlighter-rouge">margin: 0;</code>代替<code class="highlighter-rouge">margin: 0px</code>。</li>
  <li>努力限制使用实例的声明，你必须明确的设置所有变量的值。</li>
</ul>

<h3 id="section-8">混合</h3>

<p>As a rule of thumb, avoid unnecessary nesting in SCSS. At most, aim for three levels. If you cannot help it, step back and rethink your overall strategy (either the specificity needed, or the layout of the nesting).
作为一个最重要的规则，在SCSS中避免不必要的嵌套。最多的目标是三个层次。如果这不够多，退后一步重新思考你的整体设计
（不是特定的需求，就是嵌套的布局）。</p>

<h3 id="section-9">例子</h3>

<p>这里是一些遵循上面准则的好例子：</p>

<figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="c1">// Example of good basic formatting practices
</span><span class="nc">.styleguide-format</span> <span class="p">{</span>
  <span class="nl">color</span><span class="p">:</span> <span class="mh">#000</span><span class="p">;</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="nf">rgba</span><span class="p">(</span><span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="mi">.5</span><span class="p">);</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="mh">#0f0</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Example of individual selectors getting their own lines (for error reporting)
</span><span class="nc">.multiple</span><span class="o">,</span>
<span class="nc">.classes</span><span class="o">,</span>
<span class="nc">.get-new-lines</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Avoid unnecessary shorthand declarations
</span><span class="nc">.not-so-good</span> <span class="p">{</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">20px</span><span class="p">;</span>
<span class="p">}</span>
<span class="nc">.good</span> <span class="p">{</span>
  <span class="nl">margin-bottom</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<h2 id="section-10">文件结构</h2>

<p>通常的，一个平行的文件目录是最好的，但是在GitHub上我们通过包bundles(分离编译过的CSS文件)和款式sections(关联内容的目录)来分离文件。</p>

<h3 id="bundles">Bundles</h3>

<p>GitHub.com使用少量的包。这里是简化后的代表我们的两个桌面包(分开来支持IE9的最大选择器并限制每个CSS文件)和一个专门供我们手机展示的手机包。</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">stylesheets
├── github
│   ├── base.scss
│   ├── layout.scss
│   └── buttons.scss
├── github2
│   ├── about.scss
│   └── blog.scss
└── mobile
    ├── base.scss
    └── files.scss</code></pre></figure>

<h3 id="scss-1">包含(S)CSS文件</h3>

<p>前面我们再Primer和Github上使用<a href="https://github.com/sstephenson/sprockets">Sprockets</a>来<strong>引入</strong>文件。
现在，我们使用明确的列表<strong>imports</strong>来控制层叠，特性等。</p>

<figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="c1">// Imports
</span><span class="k">@import</span> <span class="s2">"primer"</span><span class="p">;</span>
<span class="k">@import</span> <span class="s2">"component"</span><span class="p">;</span>
<span class="k">@import</span> <span class="s2">"another_component"</span><span class="p">;</span>

<span class="c1">// Rules
</span><span class="nc">.rule</span> <span class="p">{</span> <span class="nc">...</span> <span class="p">}</span></code></pre></figure>

<p>Primer样式也是这样被包含的，在你需要他们的时候。</p>

<h2 id="vs-">像素 vs. 字体尺寸</h2>

<p>在字体大小<code class="highlighter-rouge">font-size</code>中使用像素<code class="highlighter-rouge">px</code>，因为它提供对文本的绝对控制。此外，没有单位的行高<code class="highlighter-rouge">line-height</code>是首选因为它不继承它父元素的百分比值，
而是基于和字体大小<code class="highlighter-rouge">font-size</code>的乘积。</p>

<h2 id="section-11">类命名约定</h2>

<p>决不在CSS文件中使用<code class="highlighter-rouge">js-</code>开头的类名。<code class="highlighter-rouge">js-</code>仅仅是在JS文件中使用。</p>

<p>使用<code class="highlighter-rouge">is-</code>开头的规则在CSS和JS中都可以使用。</p>

<h2 id="classes-vs-ids">特性 (classes vs. ids)</h2>

<p>在一个页面中会出现<strong>仅仅一次</strong>的元素应该使用ID，否则，使用类。当有疑问的时候，使用类名。</p>

<ul>
  <li><strong>好</strong>的id使用场景：头部，底部，弹出框模块。</li>
  <li><strong>坏</strong>的id使用场景：导航，列表项，试图页面项(如：问题试图)。</li>
</ul>

<p>当设计一个组件时，开始于一个元素+类空间（选择类名而不是ID），默认的选择直接子选择器，并尽可能少的使用特性。
这里是个好的例子：</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"category-list"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"item"</span><span class="nt">&gt;</span>Category 1<span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"item"</span><span class="nt">&gt;</span>Category 2<span class="nt">&lt;/li&gt;</span>
  <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"item"</span><span class="nt">&gt;</span>Category 3<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-scss" data-lang="scss"><span class="nc">.category-list</span> <span class="p">{</span> <span class="c1">// element + class namespace
</span>
  <span class="c1">// Direct descendant selector &gt; for list items
</span>  <span class="o">&gt;</span> <span class="nt">li</span> <span class="p">{</span>
    <span class="nl">list-style-type</span><span class="p">:</span> <span class="nb">disc</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Minimal specificity for all links
</span>  <span class="nt">a</span> <span class="p">{</span>
    <span class="nl">color</span><span class="p">:</span> <span class="mh">#f00</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h3 id="css">CSS特性规范</h3>

<ul>
  <li>如果你必须使用一个id选择器（<code class="highlighter-rouge">$selector</code>），确保在你的规则定义中你会有多余<em>一个</em>。一个像<code class="highlighter-rouge">#header .search #quicksearch{ ... }</code>这样的规则是被视为有害的。</li>
  <li>当修改一个存在的元素为特定用法时，尝试使用特定的类名。代替<code class="highlighter-rouge">.listings-layout.bigger</code>为使用规则如<code class="highlighter-rouge">.listings-layout.listings-bigger</code>。
考虑在你的未来代码中方便查找<code class="highlighter-rouge">ack/grep</code>。</li>
  <li>类名<code class="highlighter-rouge">disabled</code>,<code class="highlighter-rouge">mousedown</code>,<code class="highlighter-rouge">dang</code>,<code class="highlighter-rouge">hover</code>,<code class="highlighter-rouge">selected</code>和<code class="highlighter-rouge">active</code>应该<em>总是</em>用来作为类的命名空间（<code class="highlighter-rouge">button.selected</code>是一个好例子）。</li>
</ul>

    </div>
  </div>
</div>


      <footer class="footer">
        版权 GitHub 2016.<br>
        由GitHub上的CSS团队开发和维护。 <strong>当前版本 v2.7.0。</strong>
		<a href="http://www.primercss.io" target="_blank">官方网址</a>
		<a href="https://github.com/primer/primer" target="_blank">官方GitHub</a>
      </footer>
    </div>

    <script src="/js/anchor.min.js"></script>
    <script>
      var selector = '.markdown-body h2, .markdown-body h3';
      anchors.options = {
        placement: 'left',
        class: 'anchor-link'
      };
      anchors.add(selector);
    </script>
  </body>
</html>
